webpackJsonp([4],{"38Hr":function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a={data:()=>({options:{},activityConfig:[]}),created(){this.options=JSON.parse(window.sessionStorage.getItem("activityData"))},methods:{Sengq(){if(this.$getCookie("token"))if(5===this.options.type)this.$loading.show(),this.$store.dispatch("GET_GRABRED",this.options.id).then(t=>{this.$loading.hidden()}).catch(t=>{});else{let t=JSON.parse(this.options.data_json)[0].ext_args;t.length?(t.map(t=>{"radio"===t.ext_type?t.ext_val="1":t.ext_val=""}),this.activityConfig=t):(this.$loading.show(),this.Senqinghuod({activityid:this.options.id}))}else this.$getCookie("demo")?this.$Toast("请登录正式账号"):this.$Toast("请登录")},Senqinghuod(t){this.$api.Userjoin(t).then(t=>{this.$loading.hidden(),this.$Toast(t.message)}).catch(t=>{})},Submit(){let t="[",i=this.activityConfig;for(var e=0;e<i.length;e++)t+=`{"ext_name":"${i[e].ext_name}","ext_val":"${i[e].ext_val}"},`,e==i.length-1&&(t+=`{"ext_name":"${i[e].ext_name}","ext_val":"${i[e].ext_val}"}]`);this.$loading.show(),this.Senqinghuod({activityid:this.options.id,ext_args:t})},ClickInput(t){"date"===t.ext_type&&this.$date.show({currentDate:new Date,confirms:i=>{i&&(t.ext_val=this.$time(i))}})}}},s={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"activity_list"}},[e("div",{staticClass:"header"},[e("div",{staticClass:"back",on:{click:function(i){return t.$router.back("-1")}}},[e("i",{staticClass:"iconfont icon-fanhui3"})]),t._v("\n      优惠专区\n    ")]),t._v(" "),e("div",{staticClass:"body"},[e("list",{attrs:{pullDownRefresh:!1}},[e("div",{staticClass:"scrollBox"},[0!=t.options.title?e("div",{staticClass:"activity_list_data_title"},[e("h2",{domProps:{textContent:t._s(t.options.title)}}),t._v(" "),6==t.options.type||5==t.options.type?e("public-button",{attrs:{classname:"activity_button",message:6==t.options.type?"立即申请":"抢红包",width:"60",background:"#fd732a",height:"24"},on:{click:t.Sengq}}):t._e()],1):t._e(),t._v(" "),e("div",{staticClass:"activity_list_data_body clear",domProps:{innerHTML:t._s(t.options.qt_app_content)}})])])],1),t._v(" "),e("van-overlay",{attrs:{show:!!t.activityConfig.length,"z-index":"4"},on:{click:function(i){if(i.target!==i.currentTarget)return null;t.activityConfig=[]}}},[e("div",{staticClass:"activity_config"},[e("h3",[t._v("完善活动申请信息")]),t._v(" "),t._l(t.activityConfig,function(i,a){return e("div",{key:a,staticClass:"activity_config_list",on:{click:function(e){return t.ClickInput(i)}}},[e("p",[1==i.isrequired?e("b",[t._v("*")]):t._e(),e("span",{domProps:{textContent:t._s(i.ext_show_name)}})]),t._v(" "),"radio"!==i.ext_type?e("input",{directives:[{name:"model",rawName:"v-model",value:i.ext_val,expression:"list.ext_val"}],attrs:{type:"text",placeholder:i.ext_show_desc,disabled:"date"===i.ext_type},domProps:{value:i.ext_val},on:{input:function(e){e.target.composing||t.$set(i,"ext_val",e.target.value)}}}):t._e(),t._v(" "),"radio"===i.ext_type?e("van-radio-group",{model:{value:i.ext_val,callback:function(e){t.$set(i,"ext_val",e)},expression:"list.ext_val"}},[e("van-radio",{attrs:{name:"1"}},[t._v("是")]),t._v(" "),e("van-radio",{attrs:{name:"0"}},[t._v("否")])],1):t._e()],1)}),t._v(" "),e("public-button",{attrs:{classname:"activity_button_submit",message:"确定",width:"60",background:"#fd732a",height:"24"},on:{click:t.Submit}})],2)])],1)},staticRenderFns:[]};var n=e("VU/8")(a,s,!1,function(t){e("9k/2"),e("xMbk")},"data-v-6bc4eab4",null);i.default=n.exports},"9k/2":function(t,i){},xMbk:function(t,i){}});