webpackJsonp([39],{"4Lje":function(t,e){},WNpW:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("uWBr");var s={props:["detailList"],data:()=>({start_time:new Date((new Date).setHours(0,0,0,0)),end_time:new Date,pageInfo:{type:"",game_tag:"",currentPage:1,currentPageTotal:20,start_time:"",end_time:""},list:[],total:1,Tcmb:!1,TcmdData:[],TcmdTitle:"",listShow:!1}),computed:{kf(){return this.$store.state.webConfig.bases.contact_kefu_app}},created(){this.$loading.show(),this.pageInfo.game_tag=this.detailList.game_tag,this.getBetsRecord()},mounted(){},methods:{getBetsRecord(){return this.listShow=!1,this.pageInfo.start_time=this.$time(this.start_time),this.pageInfo.end_time=this.$time(this.end_time),new Promise((t,e)=>{this.$api.BetsList(this.pageInfo).then(e=>{0==e.total?this.listShow=!0:this.listShow=!1;let a=Math.ceil(e.total/this.pageInfo.currentPageTotal);this.total=a,e.items.map(t=>{t.bet_time=this.$time(new Date(1e3*t.bet_time)),t.bet_sum=this.$decimal(t.bet_sum),t.bet_valid=this.$decimal(t.bet_valid),t.bet_win=this.$decimal(t.bet_win),this.list.push(t)}),t(e)}).catch(t=>{e(t)})})},scollDown(t){this.$loading.show(),this.list=[],this.pageInfo.currentPage=1,this.getBetsRecord().then(()=>{t()})},scollUp(t){this.pageInfo.currentPage++,this.pageInfo.currentPage>this.total?t():this.getBetsRecord().then(()=>{t()})},getTime(){this.$loading.show(),this.list=[],this.pageInfo.currentPage=1,this.getBetsRecord()},getDetail(t){this.Tcmb=!0,this.TcmdTitle=t.bet_sum;let e=[];e.push({name:"订单编号：",data:t.bet_id,copy:!0}),e.push({name:"游戏名称：",data:t.sub_name}),e.push({name:"用户账号：",data:t.user_name}),e.push({name:"总投注额：",data:t.bet_sum}),e.push({name:"有效投注额：",data:t.bet_valid}),e.push({name:"实际输赢：",data:t.bet_win}),e.push({name:"状态：",data:1==t.bet_state?"未结算":2==t.bet_state?"已结算":3==t.bet_state?"撤单":"其他"}),e.push({name:"备注：",data:0!=t.remarks&&t.remarks?t.remarks:"--"}),this.TcmdData=e},Server(){this.$device({type:"shareClick",data:{url:this.kf,ish:"1",color:this.$store.state.color.headerBg}})},getColor(t){let e="";switch(t){case 1:e="#ef4141";break;case 2:e="#3dc070";break;case 3:e="#5353f3";break;default:e="#ffa110"}return e}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"gameJlDetail"}},[a("div",{staticClass:"header"},[t._v("\n  \t"+t._s(t.detailList.game_name)+"\n  ")]),t._v(" "),a("div",{staticClass:"menu"},[a("van-dropdown-menu",[a("van-dropdown-item",{ref:"item",attrs:{title:"开始时间"}},[a("van-datetime-picker",{attrs:{type:"datetime"},on:{confirm:function(e){t.$refs.item.toggle(),t.getTime()},cancel:function(e){return t.$refs.item.toggle()}},model:{value:t.start_time,callback:function(e){t.start_time=e},expression:"start_time"}})],1),t._v(" "),a("van-dropdown-item",{ref:"item2",attrs:{title:"结束时间"}},[a("van-datetime-picker",{attrs:{type:"datetime"},on:{confirm:function(e){t.$refs.item2.toggle(),t.getTime()},cancel:function(e){return t.$refs.item2.toggle()}},model:{value:t.end_time,callback:function(e){t.end_time=e},expression:"end_time"}})],1)],1)],1),t._v(" "),a("div",{staticClass:"record_list"},[a("list",{attrs:{pullDownRefresh:!0,pullUpLoad:!0,color:"#000"},on:{scollUp:t.scollUp,scollDown:t.scollDown}},[a("ul",[t._l(t.list,function(e,s){return a("li",{key:s,staticClass:"recList",attrs:{item:e,type:1},on:{click:function(a){return t.getDetail(e)}}},[a("span",{style:{backgroundColor:t.getColor(e.bet_state)}}),t._v(" "),a("div",{staticClass:"img"},[a("span",[t._v(t._s(t.detailList.game_name))])]),t._v(" "),a("div",{staticClass:"money"},[a("p",{staticClass:"time"},[t._v("\n          \t\t"+t._s(e.bet_time)+"\n          \t")]),t._v(" "),a("p",[t._v("\n          \t\t"+t._s(e.bet_sum)+"\n          \t")])]),t._v(" "),a("div",{staticClass:"state"},[a("p",{style:{color:t.getColor(e.bet_state)},domProps:{textContent:t._s(1==e.bet_state?"未结算":2==e.bet_state?"已结算":3==e.bet_state?"撤单":"其他")}}),t._v(" "),a("p",{staticClass:"total"},[t._v(t._s(e.bet_valid))])])])}),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.listShow,expression:"listShow"}],staticClass:"no_message"},[a("span",[t._v("暂无投注记录")])])],2)])],1),t._v(" "),a("van-dialog",{staticClass:"cz_det",attrs:{title:"+"+t.TcmdTitle,"show-cancel-button":"",confirmButtonText:"联系客服","cancel-button-text":"关闭"},on:{confirm:t.Server},model:{value:t.Tcmb,callback:function(e){t.Tcmb=e},expression:"Tcmb"}},[a("record-detail",{attrs:{TcmdData:t.TcmdData}})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(t){a("4Lje")},"data-v-10b2e9a1",null);e.default=n.exports}});