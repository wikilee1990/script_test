webpackJsonp([29],{"0xH2":function(t,e){},"Lfe+":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{collect:s("EJcA").default},data(){return{height:0,gameName:"",title:"",gameList:[],total:1,config:{currentPage:1,currentPageTotal:15,game_tag:this.$route.query.game_tag,type:this.$route.query.type,game_sub_name:"",tag:this.$route.query.tag,changshang:2},noSearch:!1}},computed:{userState(){return this.$store.state.user.userState}},watch:{gameName(t){""==t&&(this.$loading.show(),this.gameList=[],this.config.currentPage=1,this.config.game_sub_name="",this.Install())}},created(){this.getTitle(),this.$loading.show(),this.Install()},methods:{getPop(){this.height="90%"},close(){this.height=0},getTitle(){1==this.$route.query.tag&&(this.title="普通游戏"),2==this.$route.query.tag&&(this.title="热门游戏"),3==this.$route.query.tag&&(this.title="推荐游戏"),4==this.$route.query.tag&&(this.title="最新游戏"),""==this.$route.query.tag&&(this.title="全部游戏")},scollDown(t){this.$loading.show(),this.gameList=[],this.config.currentPage=1,this.Install(!0).then(e=>{t()})},pullingUp(t){this.config.currentPage++,this.config.currentPage>this.total?t():this.Install().then(()=>{t()})},Install(){return this.noSearch=!1,new Promise((t,e)=>{this.$api.GetAllGames(this.config).then(e=>{0==e.total&&(this.noSearch=!0);let s=Math.ceil(e.total/this.config.currentPageTotal);this.total=s,e.items.map(t=>{this.gameList.push(t)}),t()}).catch(t=>{})})},getSearchGame(){this.$loading.show(),this.gameList=[],this.config.game_sub_name=this.gameName,this.config.currentPage=1,this.Install()},ShouChang(t){if(2==this.userState)this.$Toast("请登录正式账号");else{let e=t.is_scgame;this.$store.dispatch("SHOU_CHANG",t).then(s=>{t.is_scgame=1==e?0:1})}},GetSrc(t){let e="/static/comm/gameImage/label/";switch(t){case 0:return!1;case 1:return e+"hot.gif";case 2:return e+"new.gif";case 3:return e+"top.gif"}}}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"gameType"},[s("home-header"),t._v(" "),s("roll"),t._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"back_btn",on:{click:function(e){return t.$router.back("-1")}}},[s("i",{staticClass:"iconfont icon-xiazai6"})]),t._v("\n    "+t._s(t.title)+"\n    "),t.userState>0?s("div",{staticClass:"like_btn",on:{click:function(e){return t.getPop()}}},[s("i",{staticClass:"iconfont icon-xinheart118"}),t._v(" "),s("span",[t._v("我的最爱")])]):t._e()]),t._v(" "),s("div",{staticClass:"select"},[s("div",{staticClass:"search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.gameName,expression:"gameName"}],attrs:{type:"text",placeholder:"请输入游戏名称..."},domProps:{value:t.gameName},on:{input:function(e){e.target.composing||(t.gameName=e.target.value)}}}),t._v(" "),s("button",[s("i",{staticClass:"iconfont icon-sousuo",on:{click:function(e){return t.getSearchGame()}}})])])]),t._v(" "),s("div",{staticClass:"body"},[s("list",{on:{scollDown:t.scollDown,scollUp:t.pullingUp}},[s("div",{staticClass:"game_list"},[t._l(t.gameList,function(e,a){return s("div",{key:a,staticClass:"list"},[e.tag.includes("2")?s("div",{staticClass:"icon label"},[t._v("热")]):e.tag.includes("4")?s("div",{staticClass:"icon label"},[t._v("新")]):e.tag.includes("3")?s("div",{staticClass:"icon label"},[t._v("荐")]):t._e(),t._v(" "),s("img",{staticClass:"game_logo",attrs:{src:e.img_cn},on:{click:function(s){return t.$ongame(e)}}}),t._v(" "),s("span",{domProps:{textContent:t._s(e.alias_name?e.alias_name:e.name_cn)}}),t._v(" "),s("div",{staticClass:"shoucang",on:{click:function(s){return t.ShouChang(e)}}},[0==e.is_scgame?s("span",{staticClass:"iconfont icon-xihuan"}):s("span",{staticClass:"iconfont icon-xinheart118"}),t._v(" "),s("span",{domProps:{textContent:t._s(0==e.is_scgame?"收藏":"取消收藏")}})])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.noSearch,expression:"noSearch"}],staticClass:"no_list"},[t._v("未搜索到相关游戏")])],2)])],1),t._v(" "),s("div",{staticClass:"popup",style:{height:t.height}},[s("div",{staticClass:"title"},[t._v("\n      我的最爱\n      "),s("i",{staticClass:"iconfont icon-cuowu2",on:{click:function(e){return t.close()}}})]),t._v(" "),s("div",{staticClass:"center"},[s("collect")],1)])],1)},staticRenderFns:[]};var n=s("VU/8")(a,i,!1,function(t){s("0xH2")},"data-v-3e020dfa",null);e.default=n.exports}});