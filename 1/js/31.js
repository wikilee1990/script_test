webpackJsonp([31],{"10Ae":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s={data:()=>({Tcmb:!1,moneyNummber:[],typeObj:{},moneyConfig:{active:"",userMoney:"",isZhifu:!0,tongdao:"",activeTongDao:{},Istongdao:!1,zhifTag:"",showMoney:[],isInput:!0,erType:""},axiosRecharge:{cunkuanren:"",money:"",order:"",ishd:1,tag:"",url:""},isSelect:{message:"参与活动"},payActive:{}}),computed:{kf(){return this.$store.state.webConfig.bases.contact_kefu_app}},watch:{"moneyConfig.userMoney"(e){this.moneyNummber.indexOf(e)&&(this.$set(this.moneyConfig,"active",e),this.$set(this.axiosRecharge,"money",e))}},created(){let e=JSON.parse(sessionStorage.getItem("linepay"));this.typeObj=e,1==this.objLength(e.item)?this.clkType(e.item[0]):this.$set(this.moneyConfig,"showMoney",Object.values(Object.values(e.item)[0].item)[0].show_money),this.getPayActive()},mounted(){},methods:{getPayActive(){this.$loading.show(),this.$api.PayActive({deposit:3}).then(e=>{this.payActive=e})},clkSelectActivity(){let e=100*this.payActive.yh_ratio,t=this.$decimal(this.payActive.yh_ratio*this.moneyConfig.userMoney);this.$select({list:[{title:0!=e&&this.moneyConfig.userMoney?"参与活动(优惠金额系数:"+e+"%赠送金额:"+t+"元)":0!=e?"参与活动(优惠金额系数:"+e+"%)":"参与活动",ishd:1},{title:"不参与活动",ishd:2}],field:"title",height:70,event:this.$refs.activity,Closes:e=>{e&&(this.$set(this.axiosRecharge,"ishd",e.ishd),1==e.ishd?this.$set(this.isSelect,"message","参与活动"):this.$set(this.isSelect,"message",e.title))}})},clkMoney(e){this.$set(this.moneyConfig,"active",e),this.$set(this.axiosRecharge,"money",e),this.$set(this.moneyConfig,"userMoney",e)},upClk(){this.$set(this.moneyConfig,"isZhifu",!0),this.moneyConfig.tongdao=""},clkType(e){this.$set(this.moneyConfig,"isZhifu",!1),this.$set(this.moneyConfig,"tongdao",e.item),this.$set(this.moneyConfig,"activeTongDao",e.item[0]),this.$set(this.moneyConfig,"showMoney",e.item[0].show_money),this.$set(this.axiosRecharge,"tag",e.products_tag);let t=e.item[0].url+"?url="+location.host;this.$set(this.axiosRecharge,"url",t),this.$set(this.moneyConfig,"isInput",e.item[0].ismore_money),this.$set(this.moneyConfig,"erType",e.products_name)},clkSelect(){this.$select({list:this.moneyConfig.tongdao,field:"name",height:30*this.moneyConfig.tongdao.length>260?200:35*this.moneyConfig.tongdao.length,event:this.$refs.paySelect,Closes:e=>{if(e){this.$set(this.moneyConfig,"activeTongDao",e),this.$set(this.moneyConfig,"userMoney",""),this.$set(this.axiosRecharge,"money","--"),this.$set(this.moneyConfig,"active","");this.$set(this.moneyConfig.showMoney=e.show_money);let t=e.url+"?url="+location.host;this.$set(this.axiosRecharge,"url",t),this.$set(this.moneyConfig,"isInput",e.ismore_money)}}})},clkCheang(){let e={type:"shareClick",data:{url:this.axiosRecharge.url+"&sign="+this.typeObj.info.sign+"&username="+this.typeObj.info.username+"&site="+this.typeObj.info.site+"&time="+this.typeObj.info.time+"&tag="+this.axiosRecharge.tag+"&money="+this.axiosRecharge.money+"&itemid="+this.moneyConfig.activeTongDao.item_id+"&ishd="+this.axiosRecharge.ishd,ish:"1",color:this.$store.state.color.headerBg}};this.axiosRecharge.money?(this.$device(e),this.Tcmb=!0):this.$Toast({message:"请选择充值金额"})},onXmeng(){this.Tcmb=!1},Server(){this.$device({type:"shareClick",data:{url:this.kf,ish:"1",color:this.$store.state.color.headerBg}})},objLength(e){let t=0;for(var i in e)t++;return t},getImg:e=>"/static/comm/gameImage/payImage/"+e+".svg"}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"pay_line"}},[i("public-header",{attrs:{back:"",title:"线上支付"}}),e._v(" "),i("div",{staticClass:"body"},[i("list",{attrs:{pullDownRefresh:!1}},[i("div",{staticClass:"list"},[i("div",{staticClass:"typeTitle"},[e._v("\n           \t 线上支付\n             "),e.typeObj.classname?i("i",{staticClass:"iconfont icon-gengduo"}):e._e(),e._v("\n             "+e._s(e.typeObj.classname)+"\n             "),e.moneyConfig.erType?i("i",{staticClass:"iconfont icon-gengduo"}):e._e(),e._v("\n             "+e._s(e.moneyConfig.erType)+"\n        ")]),e._v(" "),e.moneyConfig.isZhifu?i("div",{staticClass:"xuanze"},e._l(e.typeObj.item,function(t){return i("div",{key:t.products_img,staticClass:"zhifuType",on:{click:function(i){return e.clkType(t)}}},[i("span",[e._v(e._s(t.products_name))]),e._v(" "),i("img",{attrs:{src:e.getImg(e.typeObj.tag)}})])}),0):i("div",[i("div",{staticClass:"money"},[i("p",{staticClass:"moneyTips"},[e._v("1、请输入转账金额（单位/元）")]),e._v(" "),i("div",{staticClass:"moneyNummber"},e._l(e.moneyConfig.showMoney,function(t,s){return i("span",{key:s,class:{moneyActive:t==e.moneyConfig.active||t==e.axiosRecharge.money},on:{click:function(i){return e.clkMoney(t)}}},[e._v("\n                          "+e._s(t)+"\n                     ")])}),0),e._v(" "),1==e.moneyConfig.isInput?i("public-input",{attrs:{placeholder:"请输入充值金额（金额为整数）",type:"number",width:"98%",height:"43.5",radius:"5"},model:{value:e.moneyConfig.userMoney,callback:function(t){e.$set(e.moneyConfig,"userMoney",t)},expression:"moneyConfig.userMoney"}}):e._e(),e._v(" "),i("p",{staticClass:"moneyTips"},[e._v("2、请选择支付通道")]),e._v(" "),i("div",{ref:"paySelect",staticClass:"sleect"},[i("p",{on:{click:e.clkSelect}},[e._v(e._s(e.moneyConfig.activeTongDao.name)),i("i",{staticClass:"iconfont icon-xia"})])]),e._v(" "),i("p",{staticClass:"moneyTips"},[e._v("3、请选择优惠活动")]),e._v(" "),i("div",{ref:"activity",staticClass:"sleect"},[i("p",{on:{click:e.clkSelectActivity}},[e._v("\n                      "+e._s(e.isSelect.message)+"\n                      "),1==e.axiosRecharge.ishd&&0!=e.payActive.yh_ratio?i("span",[e._v("\n                        (优惠金额系数:"+e._s(100*e.payActive.yh_ratio)+"%\n                        "),e.moneyConfig.userMoney?i("span",[e._v(",赠送金额:"+e._s(e.$decimal(e.payActive.yh_ratio*e.moneyConfig.userMoney))+"元")]):e._e(),e._v(")\n                      ")]):e._e(),e._v(" "),i("i",{staticClass:"iconfont icon-xia"})])]),e._v(" "),e.moneyConfig.activeTongDao.beizhu?i("div",{staticClass:"beizhu"},[e._v("\n                   \t 备注："),i("b",{domProps:{innerHTML:e._s(e.moneyConfig.activeTongDao.beizhu)}})]):e._e()],1)])])])],1),e._v(" "),e.moneyConfig.isZhifu?e._e():i("div",{staticClass:"filexMoney"},[i("p",{staticClass:"chongzjinre"},[e._v("充值金额："),i("b",{domProps:{innerHTML:e._s(e.axiosRecharge.money?e.axiosRecharge.money:"--")}}),e._v("  元")]),e._v(" "),i("div",{staticClass:"btn"},[i("div",{staticClass:"back_btn",on:{click:e.upClk}},[e._v("上一步")]),e._v(" "),i("div",{staticClass:"ok_btn",on:{click:e.clkCheang}},[e._v("确认充值")])])]),e._v(" "),i("van-dialog",{staticClass:"Tc_box",attrs:{title:"充值信息","show-cancel-button":"",confirmButtonText:"返回账户","cancel-button-text":"参与活动"},on:{confirm:function(t){return e.$router.push("/user")},cancel:function(t){return e.$router.push("/activity")}},model:{value:e.Tcmb,callback:function(t){e.Tcmb=t},expression:"Tcmb"}},[i("div",{staticClass:"s1"},[e._v("请在打开的窗口进行充值")]),e._v(" "),i("div",{staticClass:"s2"},[e._v("如充值过程中有疑问请联系"),i("span",{on:{click:e.clkKf}},[e._v("在线客服")])])])],1)},staticRenderFns:[]};var n=i("VU/8")(s,o,!1,function(e){i("ta+Z")},null,null);t.default=n.exports},"ta+Z":function(e,t){}});