webpackJsonp([9],{MlgX:function(t,i){},Ta86:function(t,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=s("mtWM"),e=s.n(a),n={data:()=>({activityNav:[],activityType:[],loading:!1,config:{currentPage:1,currentPageTotal:8,typesid:window.sessionStorage.getItem("activityNav")?window.sessionStorage.getItem("activityNav"):""},total:0,noActivity:!1}),created(){this.$loading.show(),this.loading=!0,this.Install()},methods:{scollDown(t){this.$loading.show(),this.activityType=[],this.config.currentPage=1,this.getActivityList().then(()=>{t()})},scollUp(t){this.config.currentPage++,this.config.currentPage>this.total?t():this.getActivityList().then(()=>{t()})},getNav(t){this.config.typesid!=t&&(this.$loading.show(),this.activityType=[],this.config.typesid=t,window.sessionStorage.setItem("activityNav",this.config.typesid),this.config.currentPage=1,this.getActivityList())},getActivityList(){return new Promise((t,i)=>{this.$api.Activitylist(this.config).then((i,s)=>{0==i.total?this.noActivity=!0:this.noActivity=!1,this.total=Math.ceil(i.total/this.config.currentPageTotal),i.items.map((t,i)=>{this.activityType.push(t)}),t()}).catch(t=>{i()})})},Install(){e.a.all([this.$api.Typelist(),this.$api.Activitylist(this.config)]).then(e.a.spread((t,i)=>{this.loading=!1;t.items.unshift({class_name_cn:"全部",id:""}),this.activityNav=t.items,0==i.total?this.noActivity=!0:this.noActivity=!1,this.total=Math.ceil(i.total/this.config.currentPageTotal),i.items.map((t,i)=>{this.activityType.push(t)})})).catch(e.a.spread((t,i)=>{this.loading=!1}))},ActivityList(t){window.sessionStorage.setItem("activityData",JSON.stringify(t)),this.$router.push("/activity/data")}}},c={render:function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{attrs:{id:"activity"}},[s("home-header"),t._v(" "),s("roll"),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"noMessage"},[t._v("资源加载中")]),t._v(" "),t.loading?t._e():s("div",{staticClass:"nav"},[s("list",{attrs:{name:"activityNav",scrollY:!1,scrollX:!0,width:"75"}},[s("div",{staticClass:"scrollBox"},t._l(t.activityNav,function(i,a){return s("div",{key:a,staticClass:"list",class:{thumbs_tab:i.id==t.config.typesid},on:{click:function(s){return t.getNav(i.id)}}},[t._v("\n            "+t._s(i.class_name_cn)+"\n          ")])}),0)])],1),t._v(" "),t.loading?t._e():s("div",{staticClass:"body"},[s("list",{attrs:{pullDownRefresh:!0,name:"activityList",color:"#000"},on:{scollDown:t.scollDown,scollUp:t.scollUp}},[s("div",{staticClass:"scrollBox"},[t._l(t.activityType,function(i,a){return s("div",{key:(a+1)*(new Date).getTime(),staticClass:"activityList",on:{click:function(s){return t.ActivityList(i)}}},[s("img",{staticClass:"activity_img",class:{overdue:1e3*i.etime<Date.parse(new Date)},attrs:{src:i.qt_app_slmg}}),t._v(" "),i.qt_app_miaoshu?s("p",{staticClass:"rek"},[s("span",[t._v(t._s(i.qt_app_miaoshu))]),t._v(" "),s("i",{staticClass:"iconfont icon-gengduo"})]):t._e(),t._v(" "),i.qt_biao.indexOf("1")>-1?s("img",{directives:[{name:"src",rawName:"v-src",value:"hot.svg",expression:"'hot.svg'"}],staticClass:"hotBox"}):i.qt_biao.indexOf("2")>-1?s("img",{directives:[{name:"src",rawName:"v-src",value:"top.svg",expression:"'top.svg'"}],staticClass:"hotBox"}):i.qt_biao.indexOf("3")>-1?s("img",{directives:[{name:"src",rawName:"v-src",value:"new.svg",expression:"'new.svg'"}],staticClass:"hotBox"}):t._e(),t._v(" "),1e3*i.etime<Date.parse(new Date)?s("i",{staticClass:"iconfont icon-yijieshu"}):t._e()])}),t._v(" "),t.noActivity?s("p",{staticClass:"no_activity"},[t._v("— 该分类下暂无活动 —")]):t._e()],2)])],1),t._v(" "),s("hot-game")],1)},staticRenderFns:[]};var o=s("VU/8")(n,c,!1,function(t){s("MlgX"),s("sjLA")},"data-v-277b4776",null);i.default=o.exports},sjLA:function(t,i){}});